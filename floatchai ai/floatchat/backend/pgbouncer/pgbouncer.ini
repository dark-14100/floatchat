;; FloatChat PgBouncer Configuration
;; Pool mode: transaction (optimal for short-lived API requests)
;; Listens on port 5433, forwards to PostgreSQL on port 5432

[databases]
floatchat = host=postgres port=5432 dbname=floatchat

[pgbouncer]
listen_addr = *
listen_port = 5433

;; Authentication
auth_type = scram-sha-256
auth_file = /etc/pgbouncer/userlist.txt

;; Pool settings
pool_mode = transaction
max_client_conn = 100
default_pool_size = 20
reserve_pool_size = 5
reserve_pool_timeout = 5

;; Logging (disabled in dev to reduce noise)
log_connections = 0
log_disconnections = 0

;; Admin access
admin_users = floatchat
